<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Algorithm widget Tests</title>

    <script src="../vendor/jquery/dist/jquery.js"></script>
    <script src="../vendor/knockout/dist/knockout.js"></script>

    <script src="../vendor/qunit/qunit/qunit.js"></script>
    <link href="../vendor/qunit/qunit/qunit.css" rel="stylesheet" />

    <script src="../vendor/blanket/dist/qunit/blanket.min.js"></script>

    <script src="../dist/algorithm.js" data-cover></script>

    <script src="algorithm.tests.js"></script>

</head>
<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <div id="qunit-header"></div>
    <div id="qunit-banner"></div>
    <div id="qunit-tests"></div>

    <script>
        // LCOV reporter, only if called with "lcovReport" parameter
        if(location.href.match(/(\?|&)lcovReport($|&|=)/)) {
            blanket.options("reporter", "../vendor/blanket/src/reporters/lcov_reporter.js");
            blanket.options("reporter_options", { toHTML: false });
            // send results to PhantomJS
            QUnit.done(function() {
                var fnStart = window._$blanket_LCOV.indexOf("SF:") + 3;
                var fnEnd = window._$blanket_LCOV.indexOf("/dist");
                var strToReplace = window._$blanket_LCOV.substring(fnStart, fnEnd);
                alert(JSON.stringify(['qunit.report', window._$blanket_LCOV.replace(strToReplace, ".")]));
            });
        }
    </script>
</body>
</html>
